{% extends 'base.html' %}

{% block content %}
    

<form action="/run" method="get">

<div id="controllers">
    <div class="container"></div>
        <div class="row justify-content-center">
            <div class="col-sm text-center">
                <label for="Behavioral Risk Reduction">Behavioral Risk Reduction: </label>
                <br>
                <strong><output id="BRROut">{{params['Behavioral Risk Reduction']}}</output></strong>
                <br>
                0
                <input type="range" name="Behavioral Risk Reduction" id="BRRIn" value="{{params['Behavioral Risk Reduction']}}" min="0" max="1" step="0.05" oninput="BRROut.value = BRRIn.value" onchange="submit()">
                1
            </div>
            <div class="col-sm text-center">
                <label for="Potential Isolation Effectiveness">Potential Isolation Effectiveness: </label>
                <br>
                <strong><output id="PIEOut">{{params['Potential Isolation Effectiveness']}}</output></strong>
                <br>
                0
                <input type="range" name="Potential Isolation Effectiveness" id="PIEIn" value="{{params['Potential Isolation Effectiveness']}}" min="0" max="1" step="0.05" oninput="PIEOut.value = PIEIn.value" onchange="submit()">
                1
            </div>
        </div>
    </div>
</div>

<div class="container"><hr></div>

<div class="container-fluid"></div>
    <div class="chartsDiv row">
        <div id='infDthChart' class="chartFrame col-md"></div>
        <div id='stackChart' class="chartFrame col-md"></div>
    </div>
    
    <div class="container"><hr></div>

    <div class="chartsDiv col justify-content-center text-center">
        
        <div id='sankChart' class="chartFrame row"></div>
        
        <div class="col">
            2
            <input type="range" name="selectedTime" id="timeSelector" oninput="selectedTimeOutput.value = timeSelector.value" min="0" max="300" step="2" value="{{selected_time}}">
            300
            <br>
            <label for="selectedTime"> Day: </label>
            <strong><output id="selectedTimeOutput">{{selected_time}}</output></strong>
        </div>
    </div>
</div>

</form>

<script src="{{ url_for('static', filename='js/constructCharts.js') }}"></script>
<script type="text/javascript">
    var run = JSON.parse({{run|tojson}});
</script>
<script src="{{ url_for('static', filename='js/updateCharts.js') }}"></script>

{% endblock %}